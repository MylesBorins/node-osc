<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# API Reference

> **⚠️ This file is auto-generated from JSDoc comments in the source code.**  
> To update this documentation, edit the JSDoc comments in the source files and run `npm run docs`.

This document provides detailed API reference for all classes, methods, and functions in node-osc.

For usage guides, best practices, and troubleshooting, see the **[Guide](./GUIDE.md)**.

### Table of Contents

*   [Bundle][1]
    *   [Parameters][2]
    *   [Examples][3]
    *   [append][4]
        *   [Parameters][5]
        *   [Examples][6]
*   [Client][7]
    *   [Parameters][8]
    *   [Examples][9]
    *   [close][10]
        *   [Parameters][11]
        *   [Examples][12]
    *   [send][13]
        *   [Parameters][14]
        *   [Examples][15]
*   [Message][16]
    *   [Parameters][17]
    *   [Examples][18]
    *   [append][19]
        *   [Parameters][20]
        *   [Examples][21]
*   [encode][22]
    *   [Parameters][23]
    *   [Examples][24]
*   [decode][25]
    *   [Parameters][26]
    *   [Examples][27]
*   [Server][28]
    *   [Parameters][29]
    *   [Examples][30]
    *   [close][31]
        *   [Parameters][32]
        *   [Examples][33]

## Bundle

Represents an OSC bundle containing multiple messages or nested bundles.

OSC bundles allow multiple messages to be sent together, optionally with
a timetag indicating when the bundle should be processed.

### Parameters

*   `timetag` &#x20;
*   `elements` **...([Message][16] | [Bundle][1] | [Array][34])** Messages or bundles to include.
    Arrays will be automatically converted to Message objects.
*   `timetagOrElement` **([number][35] | ([Message][16] | [Bundle][1] | [Array][34]))** Timetag, or if not a number, the first element and timetag will default to 0. (optional, default `0`)

### Examples

```javascript
// Create a bundle without a timetag
const bundle = new Bundle(['/one', 1], ['/two', 2]);
```

```javascript
// Create a bundle with a timetag
const bundle = new Bundle(10, ['/one', 1], ['/two', 2]);
```

```javascript
// Nest bundles
const bundle1 = new Bundle(['/one', 1]);
const bundle2 = new Bundle(['/two', 2]);
bundle1.append(bundle2);
```

### append

Append a message or bundle to this bundle.

#### Parameters

*   `element` **([Message][16] | [Bundle][1] | [Array][34])** The message or bundle to append.
    Arrays will be automatically converted to Message objects.

#### Examples

```javascript
const bundle = new Bundle();
bundle.append(['/test', 1]);
bundle.append(new Message('/test2', 2));
```

```javascript
// Append a nested bundle
const bundle1 = new Bundle(['/one', 1]);
const bundle2 = new Bundle(['/two', 2]);
bundle1.append(bundle2);
```

## Client

**Extends EventEmitter**

OSC Client for sending messages and bundles over UDP.

Extends EventEmitter and emits the following events:

*   'error': Emitted when a socket error occurs

### Parameters

*   `host` **[string][36]** The hostname or IP address of the OSC server.
*   `port` **[number][35]** The port number of the OSC server.

### Examples

```javascript
// Create a client
const client = new Client('127.0.0.1', 3333);

// Send a message with callback
client.send('/oscAddress', 200, (err) => {
  if (err) console.error(err);
  client.close();
});
```

```javascript
// Send a message with async/await
const client = new Client('127.0.0.1', 3333);
await client.send('/oscAddress', 200);
await client.close();
```

### close

Close the client socket.

This method can be used with either a callback or as a Promise.

#### Parameters

*   `cb` **[Function][37]?** Optional callback function called when socket is closed.

#### Examples

```javascript
// With callback
client.close((err) => {
  if (err) console.error(err);
});
```

```javascript
// With async/await
await client.close();
```

Returns **([Promise][38]\<void> | [undefined][39])** Returns a Promise if no callback is provided.

### send

Send an OSC message or bundle to the server.

This method can be used with either a callback or as a Promise.
Messages can be sent in several formats:

*   As separate arguments: address followed by values
*   As a Message or Bundle object
*   As an array: \[address, ...values]

#### Parameters

*   `args` **...any** The message to send. Can be:*   (address: string, ...values: any\[], callback?: Function)
    *   (message: Message|Bundle, callback?: Function)
    *   (array: Array, callback?: Function)

#### Examples

```javascript
// Send with address and arguments
client.send('/oscAddress', 200, 'hello', (err) => {
  if (err) console.error(err);
});
```

```javascript
// Send with async/await
await client.send('/oscAddress', 200, 'hello');
```

```javascript
// Send a Message object
const msg = new Message('/test', 1, 2, 3);
await client.send(msg);
```

```javascript
// Send a Bundle object
const bundle = new Bundle(['/one', 1], ['/two', 2]);
await client.send(bundle);
```

*   Throws **[TypeError][40]** If the message format is invalid.
*   Throws **[ReferenceError][41]** If attempting to send on a closed socket.

Returns **([Promise][38]\<void> | [undefined][39])** Returns a Promise if no callback is provided.

## Message

Represents an OSC message with an address and arguments.

OSC messages consist of an address pattern (string starting with '/')
and zero or more arguments of various types.

### Parameters

*   `address` **[string][36]** The OSC address pattern (e.g., '/oscillator/frequency').
*   `args` **...any** Optional arguments to include in the message.

### Examples

```javascript
// Create a message with constructor arguments
const msg = new Message('/test', 1, 2, 'hello');
```

```javascript
// Create a message and append arguments
const msg = new Message('/test');
msg.append(1);
msg.append('hello');
msg.append(3.14);
```

### append

Append an argument to the message.

Automatically detects the type based on the JavaScript type:

*   Integers are encoded as OSC integers
*   Floats are encoded as OSC floats
*   Strings are encoded as OSC strings
*   Booleans are encoded as OSC booleans
*   Arrays are recursively appended
*   Objects with a 'type' property are used as-is

#### Parameters

*   `arg` **any** The argument to append. Can be:*   A primitive value (number, string, boolean)
    *   An array of values (will be recursively appended)
    *   An object with 'type' and 'value' properties

#### Examples

```javascript
const msg = new Message('/test');
msg.append(42);           // Integer
msg.append(3.14);         // Float
msg.append('hello');      // String
msg.append(true);         // Boolean
```

```javascript
// Append multiple values at once
msg.append([1, 2, 3]);
```

```javascript
// Explicitly specify type
msg.append({ type: 'float', value: 42 });
```

*   Throws **[Error][42]** If the argument type cannot be encoded.

## encode

Encode an OSC message or bundle to a Buffer.

This low-level function converts OSC messages and bundles into binary format
for transmission or storage. Useful for sending OSC over custom transports
(WebSocket, TCP, HTTP), storing to files, or implementing custom OSC routers.

### Parameters

*   `message` **[Object][43]** OSC message or bundle object with oscType property

### Examples

```javascript
// Encode a message
import { Message, encode } from 'node-osc';

const message = new Message('/oscillator/frequency', 440);
const buffer = encode(message);
console.log('Encoded bytes:', buffer.length);
```

```javascript
// Encode a bundle
import { Bundle, encode } from 'node-osc';

const bundle = new Bundle(['/one', 1], ['/two', 2]);
const buffer = encode(bundle);
```

```javascript
// Send over WebSocket
const buffer = encode(message);
websocket.send(buffer);
```

Returns **[Buffer][44]** The encoded OSC data ready for transmission

## decode

Decode a Buffer containing OSC data into a message or bundle object.

This low-level function parses binary OSC data back into JavaScript objects.
Useful for receiving OSC over custom transports, reading from files,
or implementing custom OSC routers.

### Parameters

*   `buffer` **[Buffer][44]** The Buffer containing OSC data

### Examples

```javascript
// Decode received data
import { decode } from 'node-osc';

const decoded = decode(buffer);
if (decoded.oscType === 'message') {
  console.log('Address:', decoded.address);
  console.log('Arguments:', decoded.args);
}
```

```javascript
// Round-trip encode/decode
import { Message, encode, decode } from 'node-osc';

const original = new Message('/test', 42, 'hello');
const buffer = encode(original);
const decoded = decode(buffer);
console.log(decoded.address); // '/test'
```

*   Throws **[Error][42]** If the buffer contains malformed OSC data

Returns **[Object][43]** The decoded OSC message or bundle. Messages have
{oscType: 'message', address: string, args: Array}, bundles have
{oscType: 'bundle', timetag: number, elements: Array}

## Server

**Extends EventEmitter**

OSC Server for receiving messages and bundles over UDP.

Extends EventEmitter and emits the following events:

*   'listening': Emitted when the server starts listening
*   'message': Emitted when an OSC message is received (receives msg array and rinfo object)
*   'bundle': Emitted when an OSC bundle is received (receives bundle object and rinfo object)
*   'error': Emitted when a socket error or decoding error occurs (receives error and rinfo)
*   Address-specific events: Emitted for each message address (e.g., '/test')

### Parameters

*   `port` **[number][35]** The port to listen on.
*   `host` **[string][36]** The host address to bind to. Use '0.0.0.0' to listen on all interfaces. (optional, default `'127.0.0.1'`)
*   `cb` **[Function][37]?** Optional callback function called when server starts listening.

### Examples

```javascript
// Create and listen for messages
const server = new Server(3333, '0.0.0.0', () => {
  console.log('Server is listening');
});

server.on('message', (msg, rinfo) => {
  console.log('Message:', msg);
  console.log('From:', rinfo.address, rinfo.port);
});
```

```javascript
// Using async/await
const server = new Server(3333, '0.0.0.0');

await new Promise((resolve) => {
  server.on('listening', resolve);
});

server.on('message', (msg) => {
  console.log('Message:', msg);
});
```

```javascript
// Listen for specific OSC addresses
server.on('/note', (msg) => {
  const [address, pitch, velocity] = msg;
  console.log(`Note: ${pitch}, Velocity: ${velocity}`);
});
```

### close

Close the server socket.

This method can be used with either a callback or as a Promise.

#### Parameters

*   `cb` **[Function][37]?** Optional callback function called when socket is closed.

#### Examples

```javascript
// With callback
server.close((err) => {
  if (err) console.error(err);
});
```

```javascript
// With async/await
await server.close();
```

Returns **([Promise][38]\<void> | [undefined][39])** Returns a Promise if no callback is provided.

[1]: #bundle

[2]: #parameters

[3]: #examples

[4]: #append

[5]: #parameters-1

[6]: #examples-1

[7]: #client

[8]: #parameters-2

[9]: #examples-2

[10]: #close

[11]: #parameters-3

[12]: #examples-3

[13]: #send

[14]: #parameters-4

[15]: #examples-4

[16]: #message

[17]: #parameters-5

[18]: #examples-5

[19]: #append-1

[20]: #parameters-6

[21]: #examples-6

[22]: #encode

[23]: #parameters-7

[24]: #examples-7

[25]: #decode

[26]: #parameters-8

[27]: #examples-8

[28]: #server

[29]: #parameters-9

[30]: #examples-9

[31]: #close-1

[32]: #parameters-10

[33]: #examples-10

[34]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[35]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[36]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[37]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[38]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[39]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[40]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypeError

[41]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError

[42]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[43]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[44]: https://nodejs.org/api/buffer.html
